# Service-Sense Environment Configuration

# ============================================
# API Configuration
# ============================================
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
API_RELOAD=false
LOG_LEVEL=info

# ============================================
# LLM Configuration
# ============================================
# Choose one: claude, openai, or both
LLM_PROVIDER=claude
ANTHROPIC_API_KEY=your_anthropic_api_key_here
OPENAI_API_KEY=your_openai_api_key_here

# Model selection
CLAUDE_MODEL=claude-sonnet-4-5-20250929
OPENAI_MODEL=gpt-4-turbo-preview

# LLM settings
LLM_TEMPERATURE=0.1
LLM_MAX_TOKENS=2000
LLM_TIMEOUT=30

# ============================================
# Database Configuration
# ============================================

# Neo4j Graph Database
NEO4J_URI=bolt://localhost:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=your_neo4j_password_here
NEO4J_DATABASE=service-sense

# ChromaDB Vector Database
CHROMA_HOST=localhost
CHROMA_PORT=8001
CHROMA_COLLECTION=service-requests

# PostgreSQL (for application data)
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=service_sense
POSTGRES_USER=service_sense
POSTGRES_PASSWORD=your_postgres_password_here

# Redis (for caching)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password_here
REDIS_DB=0

# ============================================
# Seattle Open Data
# ============================================
SEATTLE_DATA_API=https://data.seattle.gov/resource/5ngg-rpne.json
SEATTLE_DATA_APP_TOKEN=your_app_token_here
SEATTLE_DATA_SYNC_INTERVAL=3600  # seconds

# ============================================
# ML Model Configuration
# ============================================
ML_MODEL_PATH=ml/models
ML_ENSEMBLE_WEIGHTS=0.25,0.25,0.25,0.25  # linear,rf,gb,nn
ML_PREDICTION_THRESHOLD=0.7
ML_CONFIDENCE_LEVEL=0.90

# Feature engineering
ENABLE_LOCATION_FEATURES=true
ENABLE_TEMPORAL_FEATURES=true
ENABLE_HISTORICAL_FEATURES=true

# ============================================
# Audio Processing (WhisperX)
# ============================================
WHISPER_MODEL=large-v3
WHISPER_LANGUAGE=en
WHISPER_DEVICE=cuda  # cuda or cpu
WHISPER_COMPUTE_TYPE=float16  # float16, int8, or float32
AUDIO_MAX_DURATION=300  # seconds
AUDIO_SAMPLE_RATE=16000

# ============================================
# Embedding Configuration
# ============================================
EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2
EMBEDDING_DIMENSION=384
EMBEDDING_BATCH_SIZE=32

# ============================================
# Monitoring & Logging
# ============================================
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000
GRAFANA_ADMIN_PASSWORD=your_grafana_password_here

# Logging
LOG_FORMAT=json  # json or text
LOG_FILE=logs/service-sense.log
LOG_ROTATION=1 day
LOG_RETENTION=30 days

# ============================================
# Feature Flags
# ============================================
ENABLE_AUDIO_INPUT=true
ENABLE_GRAPH_SEARCH=true
ENABLE_VECTOR_SEARCH=true
ENABLE_ML_PREDICTION=true
ENABLE_AB_TESTING=false
ENABLE_FEEDBACK_LOOP=true

# ============================================
# Performance & Limits
# ============================================
MAX_REQUEST_SIZE_MB=10
REQUEST_TIMEOUT_SECONDS=30
RATE_LIMIT_PER_MINUTE=100
CACHE_TTL_SECONDS=300

# Database connection pools
NEO4J_MAX_CONNECTIONS=50
POSTGRES_MAX_CONNECTIONS=20

# ============================================
# Security
# ============================================
SECRET_KEY=your_secret_key_here_change_in_production
CORS_ORIGINS=http://localhost:3000,http://localhost:8080
ENABLE_API_KEY_AUTH=false
API_KEY=your_api_key_here

# ============================================
# Development Settings
# ============================================
DEBUG=false
TESTING=false
MOCK_LLM=false
MOCK_AUDIO_PROCESSING=false
